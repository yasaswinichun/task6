module tb;

    logic clk = 0;
    logic rst;
    logic [3:0] count;

    // Instantiate counter
    counter dut (.*);

    // Clock generation
    always #5 clk = ~clk;

    // Coverage group
    covergroup cg_count @(posedge clk);
        coverpoint count {
            bins zero = {0};
            bins max  = {15};
            bins roll = {[1:14]};
        }
    endgroup

    cg_count cg = new();

    initial begin
        // VCD dump for Aldec
        $dumpfile("counter.vcd");
        $dumpvars(0, tb);

        // Apply reset
        rst = 1; #20;
        rst = 0;

        // Run enough cycles
        repeat (40) @(posedge clk);

        // âœ… Display total coverage for covergroup (Aldec-compatible)
        $display("Total Coverage: %0.2f %%", cg.get_inst_coverage());

        $finish;
    end

endmodule
